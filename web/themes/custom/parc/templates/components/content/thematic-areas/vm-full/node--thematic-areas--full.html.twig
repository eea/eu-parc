{#
/**
 * @file
 * Parc override to display a node.
 */
#}

{{ attach_library('parc/n--thematic-areas--full') }}

{% set color = node.field_categories.entity.field_color.value.0.color %}

{%
  set classes = [
    'node',
    'node--' ~ node.bundle|clean_class,
    view_mode ? 'node--' ~ node.bundle|clean_class ~ '--' ~ view_mode|clean_class,
  ]
%}

{% set survey_color = node.field_categories.entity ? node.field_categories.entity.field_bg_color.color : '#b0e5df' %}

<article{{attributes.addClass(classes).setAttribute('style','--tta--c-heading:'~color~';'~'--tta--bg:'~survey_color~';')}}>
  {{ title_prefix }}
  {{ title_suffix }}

  {{ content }}

  {% if survey_form %}
    {{ survey_form }}
  {% endif %}
</article>
