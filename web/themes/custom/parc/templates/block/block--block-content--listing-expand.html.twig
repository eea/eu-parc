{{ attach_library('parc/b--listing-expand') }}

{% if style == 'press_releases' %}
  {% set main_color = '#F4EACA' %}
  {% set text_color = '#E45C4D' %}
{% elseif style == 'media_assets' %}
  {% set main_color = '#FBCDD5' %}
  {% set text_color = '#480363' %}
{% endif %}

<div class="listing-expand listing-expand--{{ style }} js-expand" data-expand-target="listing-expand-{{ id }}" style="--main-color: {{ main_color }}; --text-color: {{ text_color }}">
  <div class="listing-expand__visible">
    <div class="listing-expand__image">{{ content.field_media_image }}</div>
    <div class="listing-expand__main">
      {% if last_update or count %}
        <div class="listing-expand__main__heading">
          {% if last_update %}
            <div class="listing-expand__main__heading__last-update">
              Latest update {{ last_update }}
            </div>
          {% endif %}

          {% if count %}
            <div class="listing-expand__main__heading__count">
              {{ count }} Items
            </div>
          {% endif %}
        </div>
      {% endif %}

      <div class="listing-expand__main__title">{{ content.field_title }}</div>
      <div class="listing-expand__main__subtitle">{{ content.field_subtitle }}</div>
      <div class="listing-expand__main__expand-icon">
        <svg xmlns="http://www.w3.org/2000/svg" width="18" height="29" viewBox="0 0 18 29" fill="none">
          <path d="M1.63483 1.35156L14.0358 11.6057C15.8698 13.1222 15.8698 15.5809 14.0358 17.0974L1.63482 27.3516" stroke="black" stroke-width="3" stroke-linecap="round"/>
        </svg>
      </div>
      <div class="listing-expand__main__description" data-expand="listing-expand-{{ id }}">{{ content.body }}</div>
    </div>
  </div>

  <div class="listing-expand__expand" data-expand="listing-expand-{{ id }}">
    <div class="listing-expand__expand__view">{{ view }}</div>
  </div>
</div>
